(function(e){function t(t){for(var n,o,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},s=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/BUCCAL/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"3e4b":function(e,t,a){"use strict";a("bf50")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("v-toolbar-title",[e._v(e._s(e.appName))]),a("v-spacer"),a("v-btn",{attrs:{icon:"",to:"/"}},[a("v-icon",[e._v("mdi-calendar-month")])],1),a("v-btn",{attrs:{icon:"",to:"/settings"}},[a("v-icon",[e._v("mdi-cog")])],1)],1),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1),a("v-snackbar",{attrs:{color:"error"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(e._s(e.errorMessage))])],1)},s=[],o=a("2f62"),i={name:"App",data:function(){return{snackbar:!1}},computed:Object(o["c"])({appName:function(e){return e.settings.appName},errorMessage:function(e){return e.errorMessage}}),watch:{errorMessage:function(){this.snackbar=!0}},beforeCreate:function(){this.$store.dispatch("loadSettings")}},c=i,l=a("2877"),u=a("6544"),d=a.n(u),p=a("7496"),f=a("40dc"),v=a("8336"),g=a("a523"),m=a("132d"),b=a("f6c4"),h=a("2db4"),x=a("2fa4"),k=a("2a7f"),y=Object(l["a"])(c,r,s,!1,null,null,null),D=y.exports;d()(y,{VApp:p["a"],VAppBar:f["a"],VBtn:v["a"],VContainer:g["a"],VIcon:m["a"],VMain:b["a"],VSnackbar:h["a"],VSpacer:x["a"],VToolbarTitle:k["a"]});var w=a("8c4f"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-title",[a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.dates,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.dates=t},"update:return-value":function(t){e.dates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{label:"集計対象日","prepend-icon":"mdi-calendar",readonly:"","hide-details":""},model:{value:e.dateRangeText,callback:function(t){e.dateRangeText=t},expression:"dateRangeText"}},n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{type:"date",color:"primary",locale:"ja-jp","day-format":function(e){return new Date(e).getDate()},"no-title":"",scrollable:"",range:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:function(t){e.menu=!1}}},[e._v("キャンセル")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.onSelectDates}},[e._v("選択")])],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("日付")]),a("th",{staticClass:"text-right"},[e._v("作業時間")])])]),a("tbody",e._l(e.summaryData,(function(t){return a("tr",{key:t.date,attrs:{summaryData:e.summaryData}},[a("td",[e._v(e._s(t.date))]),a("td",{staticClass:"text-right"},[e._v(e._s(t.workH))])])})),0)]},proxy:!0}])})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-data-table",{staticClass:"text-no-wrap",attrs:{headers:e.tableHeaders,items:e.tableData,search:e.search,loading:e.loading,"sort-by":"date","sort-desc":!0,page:e.page,"items-per-page":20,"hide-default-footer":"","mobile-breakpoint":"0"},on:{"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}}}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:e.pageCount,"total-visible":10,circle:""},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1)},S=[],C=a("1da1"),j=a("5530"),T=(a("96cf"),a("fb6a"),a("99af"),a("a15b"),{name:"Home",data:function(){var e=new Date,t=e.getFullYear(),a=("0"+(e.getMonth()+1)).slice(-2),n=("0"+e.getDate()).slice(-2);return{menu:!1,search:"",dates:["".concat(t,"-").concat(a,"-").concat(n),"".concat(t,"-").concat(a,"-").concat(n)],tableData:[],summaryData:[],page:1,pageCount:0}},computed:Object(j["a"])(Object(j["a"])({},Object(o["c"])({calData:function(e){return e.calData},loading:function(e){return e.loading.fetch}})),{},{dateRangeText:function(){return this.dates.join(" ～ ")},tableHeaders:function(){return[{text:"日付",value:"date",align:"end"},{text:"カテゴリ",value:"category"},{text:"内容",value:"content"},{text:"作業時間",value:"workH",align:"end"}]}}),methods:Object(j["a"])(Object(j["a"])({},Object(o["b"])(["fetchCalData"])),{},{updateTable:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){var a,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dates,n=a[0],r=a[1],s=n+r,t.next=6,e.fetchCalData({startDate:n,endDate:r});case 6:e.summaryData=e.calData[s].day,e.tableData=e.calData[s].content;case 8:case"end":return t.stop()}}),t)})))()},onSelectDates:function(){this.$refs.menu.save(this.dates),this.updateTable()}}),created:function(){this.updateTable()}}),O=T,V=a("b0af"),R=a("99d9"),I=a("62ad"),M=a("8fea"),N=a("2e4b"),P=a("e449"),U=a("891e"),$=a("1f4f"),A=a("8654"),L=Object(l["a"])(O,_,S,!1,null,null,null),B=L.exports;d()(L,{VBtn:v["a"],VCard:V["a"],VCardTitle:R["a"],VCol:I["a"],VDataTable:M["a"],VDatePicker:N["a"],VMenu:P["a"],VPagination:U["a"],VSimpleTable:$["a"],VSpacer:x["a"],VTextField:A["a"]});var E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-wrapper"},[a("p",[e._v("※設定はこのデバイスのみに保存されます。")]),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("h3",[e._v("アプリ設定")]),a("v-text-field",{attrs:{label:"アプリ名",counter:30,rules:[e.appNameRule]},model:{value:e.settings.appName,callback:function(t){e.$set(e.settings,"appName",t)},expression:"settings.appName"}}),a("v-text-field",{attrs:{label:"API URL",counter:150,rules:[e.stringRule]},model:{value:e.settings.apiUrl,callback:function(t){e.$set(e.settings,"apiUrl",t)},expression:"settings.apiUrl"}}),a("v-text-field",{attrs:{label:"Auth Token",counter:150,rules:[e.stringRule]},model:{value:e.settings.authToken,callback:function(t){e.$set(e.settings,"authToken",t)},expression:"settings.authToken"}}),a("v-text-field",{attrs:{label:"Calendar Id",counter:150,rules:[e.stringRule]},model:{value:e.settings.calendarId,callback:function(t){e.$set(e.settings,"calendarId",t)},expression:"settings.calendarId"}}),a("v-row",{staticClass:"mt-4"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:e.onClickSave}},[e._v("保存")])],1)],1)],1)},H=[],F={name:"Settings",data:function(){return{valid:!1,settings:Object(j["a"])({},this.$store.state.settings),appNameRule:function(e){return e.length<=30||"30文字以内で入力してください"},stringRule:function(e){return e.length<=150||"150文字以内で入力してください"}}},methods:{onClickSave:function(){this.$store.dispatch("saveSettings",{settings:this.settings})}}},J=F,G=(a("3e4b"),a("4bd4")),Y=a("0fd9"),q=Object(l["a"])(J,E,H,!1,null,null,null),z=q.exports;d()(q,{VBtn:v["a"],VForm:G["a"],VRow:Y["a"],VSpacer:x["a"],VTextField:A["a"]}),n["a"].use(w["a"]);var K=[{path:"/",name:"Home",component:B},{path:"/settings",name:"Settings",component:z}],Q=new w["a"]({routes:K}),W=Q,X=(a("d3b7"),a("bc3a")),Z=a.n(X),ee=Z.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}});ee.interceptors.response.use((function(e){return e.data.error?Promise.reject(e.data.error):Promise.resolve(e)}),(function(e){return Promise.reject(e)}));var te=function(e){ee.defaults.baseURL=e},ae="",ne=function(e){ae=e},re="",se=function(e){re=e},oe=function(e,t){return ee.post("",{method:"GET",authToken:ae,params:{calendarId:re,startDate:e,endDate:t}})},ie={setUrl:te,setAuthToken:ne,setCalendarId:se,fetch:oe};n["a"].use(o["a"]);var ce={calData:{},loading:{fetch:!1},errorMessage:"",settings:{appName:"BUCCAL",apiUrl:"",authToken:"",calendarId:""}},le={setCalData:function(e,t){var a=t.startDate,n=t.endDate,r=t.list,s=a+n;e.calData[s]=r},setLoading:function(e,t){var a=t.type,n=t.v;e.loading[a]=n},setErrorMessage:function(e,t){var a=t.message;e.errorMessage=a},saveSettings:function(e,t){var a=t.settings;e.settings=Object(j["a"])({},a);var n=e.settings,r=n.appName,s=n.apiUrl,o=n.authToken,i=n.calendarId;document.title=r,ie.setUrl(s),ie.setAuthToken(o),ie.setCalendarId(i),e.calData={},localStorage.setItem("settings",JSON.stringify(a))},loadSettings:function(e){var t=JSON.parse(localStorage.getItem("settings"));t&&(e.settings=Object.assign(e.settings,t));var a=e.settings,n=a.appName,r=a.apiUrl,s=a.authToken,o=a.calendarId;document.title=n,ie.setUrl(r),ie.setAuthToken(s),ie.setCalendarId(o)}},ue={fetchCalData:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=t.startDate,s=t.endDate,o="fetch",n("setLoading",{type:o,v:!0}),a.prev=4,a.next=7,ie.fetch(r,s);case 7:i=a.sent,n("setCalData",{startDate:r,endDate:s,list:i.data}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](4),n("setErrorMessage",{message:a.t0}),n("setCalData",{startDate:r,endDate:s,list:[]});case 15:return a.prev=15,n("setLoading",{type:o,v:!1}),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[4,11,15,18]])})))()},saveSettings:function(e,t){var a=e.commit,n=t.settings;a("saveSettings",{settings:n})},loadSettings:function(e){var t=e.commit;t("loadSettings")}},de=new o["a"].Store({state:ce,mutations:le,actions:ue}),pe=a("f309");n["a"].use(pe["a"]);var fe=new pe["a"]({});n["a"].config.productionTip=!1,new n["a"]({router:W,store:de,vuetify:fe,render:function(e){return e(D)}}).$mount("#app")},bf50:function(e,t,a){}});