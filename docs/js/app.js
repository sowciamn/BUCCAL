(function(t){function e(e){for(var n,o,c=e[0],i=e[1],l=e[2],d=0,p=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,c=1;c<a.length;c++){var i=a[c];0!==r[i]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/BUCCAL/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=i;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"3e4b":function(t,e,a){"use strict";a("bf50")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.appName))]),a("v-spacer"),a("v-btn",{attrs:{icon:"",to:"/"}},[a("v-icon",[t._v("mdi-calendar-month")])],1),a("v-btn",{attrs:{icon:"",to:"/settings"}},[a("v-icon",[t._v("mdi-cog")])],1)],1),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1),a("v-snackbar",{attrs:{color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.errorMessage))])],1)},s=[],o=a("2f62"),c={name:"App",data:function(){return{snackbar:!1}},computed:Object(o["c"])({appName:function(t){return t.settings.appName},errorMessage:function(t){return t.errorMessage}}),watch:{errorMessage:function(){this.snackbar=!0}},beforeCreate:function(){this.$store.dispatch("loadSettings")}},i=c,l=a("2877"),u=a("6544"),d=a.n(u),p=a("7496"),f=a("40dc"),v=a("8336"),g=a("a523"),m=a("132d"),b=a("f6c4"),h=a("2db4"),x=a("2fa4"),k=a("2a7f"),y=Object(l["a"])(i,r,s,!1,null,null,null),D=y.exports;d()(y,{VApp:p["a"],VAppBar:f["a"],VBtn:v["a"],VContainer:g["a"],VIcon:m["a"],VMain:b["a"],VSnackbar:h["a"],VSpacer:x["a"],VToolbarTitle:k["a"]});var w=a("8c4f"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-title",[a("v-col",{attrs:{cols:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{label:"集計対象日","prepend-icon":"mdi-calendar",readonly:"","hide-details":""},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{type:"date",color:"primary",locale:"ja-jp","day-format":function(t){return new Date(t).getDate()},"no-title":"",scrollable:"",range:""},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:function(e){t.menu=!1}}},[t._v("キャンセル")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.onSelectDates}},[t._v("選択")])],1)],1)],1),a("v-col",{attrs:{cols:"8"}}),a("v-col",{attrs:{cols:"4"}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("日付")]),a("th",{staticClass:"text-right"},[t._v("作業時間")])])]),a("tbody",t._l(t.summaryData,(function(e){return a("tr",{key:e.date,attrs:{summaryData:t.summaryData}},[a("td",[t._v(t._s(e.date))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.workH))])])})),0)]},proxy:!0}])})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-data-table",{staticClass:"text-no-wrap",attrs:{headers:t.tableHeaders,items:t.tableData,search:t.search,loading:t.loading,"sort-by":"category","sort-desc":!0,page:t.page,"items-per-page":20,"hide-default-footer":""},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}}}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:t.pageCount,"total-visible":10,circle:""},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},S=[],C=a("1da1"),j=a("5530"),T=(a("96cf"),a("fb6a"),a("99af"),a("a15b"),{name:"Home",data:function(){var t=new Date,e=t.getFullYear(),a=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2);return{menu:!1,search:"",dates:["".concat(e,"-").concat(a,"-").concat(n),"".concat(e,"-").concat(a,"-").concat(n)],tableData:[],summaryData:[],page:1,pageCount:0}},computed:Object(j["a"])(Object(j["a"])({},Object(o["c"])({calData:function(t){return t.calData},loading:function(t){return t.loading.fetch}})),{},{dateRangeText:function(){return this.dates.join(" ～ ")},tableHeaders:function(){return[{text:"カテゴリ",value:"category"},{text:"内容",value:"content"},{text:"作業時間",value:"workH",align:"end"}]}}),methods:Object(j["a"])(Object(j["a"])({},Object(o["b"])(["fetchCalData"])),{},{updateTable:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dates,n=a[0],r=a[1],s=n+r,e.next=6,t.fetchCalData({startDate:n,endDate:r});case 6:t.summaryData=t.calData[s].day,t.tableData=t.calData[s].content;case 8:case"end":return e.stop()}}),e)})))()},onSelectDates:function(){this.$refs.menu.save(this.dates),this.updateTable()}}),created:function(){this.updateTable()}}),O=T,V=a("b0af"),R=a("99d9"),I=a("62ad"),M=a("8fea"),N=a("2e4b"),P=a("e449"),U=a("891e"),$=a("1f4f"),A=a("8654"),L=Object(l["a"])(O,_,S,!1,null,null,null),B=L.exports;d()(L,{VBtn:v["a"],VCard:V["a"],VCardTitle:R["a"],VCol:I["a"],VDataTable:M["a"],VDatePicker:N["a"],VMenu:P["a"],VPagination:U["a"],VSimpleTable:$["a"],VSpacer:x["a"],VTextField:A["a"]});var E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-wrapper"},[a("p",[t._v("※設定はこのデバイスのみに保存されます。")]),a("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("h3",[t._v("アプリ設定")]),a("v-text-field",{attrs:{label:"アプリ名",counter:30,rules:[t.appNameRule]},model:{value:t.settings.appName,callback:function(e){t.$set(t.settings,"appName",e)},expression:"settings.appName"}}),a("v-text-field",{attrs:{label:"API URL",counter:150,rules:[t.stringRule]},model:{value:t.settings.apiUrl,callback:function(e){t.$set(t.settings,"apiUrl",e)},expression:"settings.apiUrl"}}),a("v-text-field",{attrs:{label:"Auth Token",counter:150,rules:[t.stringRule]},model:{value:t.settings.authToken,callback:function(e){t.$set(t.settings,"authToken",e)},expression:"settings.authToken"}}),a("v-text-field",{attrs:{label:"Calendar Id",counter:150,rules:[t.stringRule]},model:{value:t.settings.calendarId,callback:function(e){t.$set(t.settings,"calendarId",e)},expression:"settings.calendarId"}}),a("v-row",{staticClass:"mt-4"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:!t.valid},on:{click:t.onClickSave}},[t._v("保存")])],1)],1)],1)},H=[],F={name:"Settings",data:function(){return{valid:!1,settings:Object(j["a"])({},this.$store.state.settings),appNameRule:function(t){return t.length<=30||"30文字以内で入力してください"},stringRule:function(t){return t.length<=150||"150文字以内で入力してください"}}},methods:{onClickSave:function(){this.$store.dispatch("saveSettings",{settings:this.settings})}}},J=F,G=(a("3e4b"),a("4bd4")),Y=a("0fd9"),q=Object(l["a"])(J,E,H,!1,null,null,null),z=q.exports;d()(q,{VBtn:v["a"],VForm:G["a"],VRow:Y["a"],VSpacer:x["a"],VTextField:A["a"]}),n["a"].use(w["a"]);var K=[{path:"/",name:"Home",component:B},{path:"/settings",name:"Settings",component:z}],Q=new w["a"]({routes:K}),W=Q,X=(a("d3b7"),a("bc3a")),Z=a.n(X),tt=Z.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}});tt.interceptors.response.use((function(t){return t.data.error?Promise.reject(t.data.error):Promise.resolve(t)}),(function(t){return Promise.reject(t)}));var et=function(t){tt.defaults.baseURL=t},at="",nt=function(t){at=t},rt="",st=function(t){rt=t},ot=function(t,e){return tt.post("",{method:"GET",authToken:at,params:{calendarId:rt,startDate:t,endDate:e}})},ct={setUrl:et,setAuthToken:nt,setCalendarId:st,fetch:ot};n["a"].use(o["a"]);var it={calData:{},loading:{fetch:!1},errorMessage:"",settings:{appName:"BUCCAL",apiUrl:"",authToken:"",calendarId:""}},lt={setCalData:function(t,e){var a=e.startDate,n=e.endDate,r=e.list,s=a+n;t.calData[s]=r},setLoading:function(t,e){var a=e.type,n=e.v;t.loading[a]=n},setErrorMessage:function(t,e){var a=e.message;t.errorMessage=a},saveSettings:function(t,e){var a=e.settings;t.settings=Object(j["a"])({},a);var n=t.settings,r=n.appName,s=n.apiUrl,o=n.authToken,c=n.calendarId;document.title=r,ct.setUrl(s),ct.setAuthToken(o),ct.setCalendarId(c),t.calData={},localStorage.setItem("settings",JSON.stringify(a))},loadSettings:function(t){var e=JSON.parse(localStorage.getItem("settings"));e&&(t.settings=Object.assign(t.settings,e));var a=t.settings,n=a.appName,r=a.apiUrl,s=a.authToken,o=a.calendarId;document.title=n,ct.setUrl(r),ct.setAuthToken(s),ct.setCalendarId(o)}},ut={fetchCalData:function(t,e){return Object(C["a"])(regeneratorRuntime.mark((function a(){var n,r,s,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,r=e.startDate,s=e.endDate,o="fetch",n("setLoading",{type:o,v:!0}),a.prev=4,a.next=7,ct.fetch(r,s);case 7:c=a.sent,n("setCalData",{startDate:r,endDate:s,list:c.data}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](4),n("setErrorMessage",{message:a.t0}),n("setCalData",{startDate:r,endDate:s,list:[]});case 15:return a.prev=15,n("setLoading",{type:o,v:!1}),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[4,11,15,18]])})))()},saveSettings:function(t,e){var a=t.commit,n=e.settings;a("saveSettings",{settings:n})},loadSettings:function(t){var e=t.commit;e("loadSettings")}},dt=new o["a"].Store({state:it,mutations:lt,actions:ut}),pt=a("f309");n["a"].use(pt["a"]);var ft=new pt["a"]({});n["a"].config.productionTip=!1,new n["a"]({router:W,store:dt,vuetify:ft,render:function(t){return t(D)}}).$mount("#app")},bf50:function(t,e,a){}});